(this["webpackJsonptrello-board-react"]=this["webpackJsonptrello-board-react"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),d=a.n(n),r=a(7),i=a.n(r),l=(a(17),a(2)),s=a(3),c=(a(18),function(e){e.preventDefault()}),o=function(e,t){e.dataTransfer.setData("dragEventData",JSON.stringify({id:e.target.id,parentId:t}))},u=a(11),b=a(22),p=[{id:"9846d451-6558-44a8-b533-11345fa1a1L1",title:"List 1"},{id:"9846d451-6558-44a8-b533-11345fa1a1L2",title:"List 2"},{id:"9846d451-6558-44a8-b533-11345fa1a1L3",title:"List 3"},{id:"9846d451-6558-44a8-b533-11345fa1a1L4",title:"List 4"},{id:"9846d451-6558-44a8-b533-11345fa1a1L5",title:"List 5"},{id:"9846d451-6558-44a8-b533-11345fa1a1L6",title:"List 6"}],j=[{id:"9846d451-6558-44a8-b533-11345fa1L1C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L1",label:"Task 1 from list 1",isCompleted:!0},{id:"9846d451-6558-44a8-b533-11345fa1L1C2",parentId:"9846d451-6558-44a8-b533-11345fa1a1L1",label:"Task 2 from list 1"},{id:"9846d451-6558-44a8-b533-11345fa1L1C3",parentId:"9846d451-6558-44a8-b533-11345fa1a1L1",label:"Task 3 from list 1"},{id:"9846d451-6558-44a8-b533-11345fa1L2C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L2",label:"Task 1 from list 2"},{id:"9846d451-6558-44a8-b533-11345fa1L3C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L3",label:"Task 1 from list 3"},{id:"9846d451-6558-44a8-b533-11345fa1L4C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L4",label:"Task 1 from list 4"},{id:"9846d451-6558-44a8-b533-11345fa1L5C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L5",label:"Task 1 from list 5"},{id:"9846d451-6558-44a8-b533-11345fa1L6C1",parentId:"9846d451-6558-44a8-b533-11345fa1a1L6",label:"Task 1 from list 6"}],f="dummy_trello_processed_task",h=function(){return j.reduce((function(e,t){var a=t.parentId;return e[a]=e[a]||[],e[a].push(t),e}),{})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=h();return e.forEach((function(e){e.tasksList=t[e.id]||[]})),e},v=localStorage.getItem(f),O=function(){var e=Object(n.useState)(v?JSON.parse(v):m(p)),t=Object(s.a)(e,2),a=t[0],d=t[1],r=function(){var e=m(p);localStorage.setItem(f,JSON.stringify(e)),d(Object(u.a)(e))},i=function(e){var t=e.parentId,a=e.label,n=void 0===a?"":a;t&&(j.push({id:Object(b.a)(),parentId:t,label:n||"New Task ".concat(Math.round(100*Math.random()))}),r())};return{boardData:a,handleDrop:function(e,t,a,n){if(e&&t&&a){var d=j.findIndex((function(e){return e.id===a}));d<0||(j[d]=Object(l.a)(Object(l.a)({},j[d]),{},{parentId:t,isCompleted:n}),r())}},handleAddTaskToBoard:i,handleCreateBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p.push({id:Object(b.a)(),title:e||"List ".concat(p.length+1)}),r()},handleTaskUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===e||void 0===e?void 0:e.id){var t=j.findIndex((function(t){return t.id===e.id}));t<0||(j[t]=e,r())}else i(e)},handleDeleteTask:function(e){if(e){var t=j.findIndex((function(t){return t.id===e}));t<0||(delete j[t],r())}}}},k=a(0),C=d.a.createContext({}),x=function(e){var t=e.children,a=O(),n=a.boardData,d=a.handleDrop,r=a.handleAddTaskToBoard,i=a.handleCreateBoard,l=a.handleTaskUpdate,s=a.handleDeleteTask;return Object(k.jsx)(C.Provider,{value:{boardData:n,handleDrop:d,handleAddTaskToBoard:r,handleCreateBoard:i,handleTaskUpdate:l,handleDeleteTask:s},children:t})},T=function(e){var t=e.handleAdd,a=e.isCompletedListActive;return Object(k.jsxs)("div",{className:"cta__add-task ".concat(a?"bottom-50":""),onClick:t,children:["+ Drag and drop /",Object(k.jsx)("br",{})," Add task"]})},g=a(9),L=a.n(g),_=function(e,t){return JSON.stringify(e.tasksList)===JSON.stringify(t.tasksList)&&e.title===t.title&&e.isCompleted===t.isCompleted},I=function(e){var t=e.data,a=e.parentId,n=e.handleEditTask,d=e.handleTaskDragStart,r=e.handleCompleteStatus,i=t.id,s=t.label,c=void 0===s?"":s,o=t.isCompleted;return Object(k.jsxs)("div",{onClick:function(){return n(t)},id:i,className:"card",draggable:!0,onDragStart:function(e){return d(e,a)},children:[Object(k.jsx)("input",{title:"Mark ".concat(o?"Incomplete":"Completed"),type:"checkbox",className:"cursor_pointer",checked:o,onClick:function(e){return e.stopPropagation()},onChange:function(e){return r(e,Object(l.a)(Object(l.a)({},t),{},{isCompleted:!o}))}}),c]})},D=function(e){var t=e.id,a=e.title,d=void 0===a?"":a,r=e.tasksList,i=void 0===r?[]:r,l=e.handleTaskUpdate,c=e.handleEditTask,o=e.handleDrop,u=e.handleDragOver,b=e.handleTaskDragStart,p=Object(n.useState)(!1),j=Object(s.a)(p,2),f=j[0],h=j[1],m=function(e){var t=[],a=[];return e.forEach((function(e){e.isCompleted?t.push(e):a.push(e)})),{completedList:t,inCompletedList:a}}(i),v=m.completedList,O=m.inCompletedList,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.stopPropagation(),l(t)};return Object(k.jsxs)("div",{className:"d-flex flex-column position-relative overflow-auto",children:[Object(k.jsxs)("div",{id:t,className:"board-list position-relative",onDrop:o,onDragOver:u,children:[Object(k.jsxs)("div",{className:"list-title",children:[Object(k.jsx)("span",{children:d})," ",Object(k.jsx)("span",{className:"add-task",title:"Add Task",onClick:function(){return c({parentId:t})},children:"+"})]}),O.map((function(e,a){return Object(k.jsx)(I,{data:e,parentId:t,handleEditTask:c,handleTaskDragStart:b,handleCompleteStatus:C},(null===e||void 0===e?void 0:e.taskId)||a)})),Object(k.jsx)(T,{isCompletedListActive:!!v.length,handleAdd:function(){return c({parentId:t})}})]}),v.length?Object(k.jsxs)("div",{onDrop:function(e){e.stopPropagation(),o(e,!0)},onDragOver:u,className:"".concat(L.a.completedList," ").concat(f?L.a.completedListOpen:""),children:[Object(k.jsxs)("div",{className:L.a.title,onClick:function(){return h(!f)},children:[Object(k.jsxs)("span",{children:[f?"Hide":"Show"," Completed List"]}),Object(k.jsx)("span",{children:f?"v":"^"})]}),f?Object(k.jsx)("div",{children:v.map((function(e,a){return Object(k.jsx)(I,{data:e,parentId:t,handleEditTask:c,handleTaskDragStart:b,handleCompleteStatus:C},(null===e||void 0===e?void 0:e.taskId)||a)}))}):null]}):null]})},N=d.a.memo(D,_),S=a(5),y=a.n(S),B=function(e){var t=e.onClose,a=e.open,n=void 0!==a&&a,d=e.children,r=e.title,l=void 0===r?"":r;return n?i.a.createPortal(Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:y.a.modalWrapper,onClick:t,children:[t&&Object(k.jsx)("span",{onClick:t,className:y.a.closeIcon,children:"+"}),Object(k.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(k.jsxs)("div",{className:y.a.modalContentWrapper,children:[Object(k.jsx)("div",{className:y.a.modalTitle,children:l||""}),d]})})]})}),document.getElementById("root")):null},E=a(6),A=a.n(E),W=a(12),J=["forwardedRef"],M=function(e){var t=e.forwardedRef,a=Object(W.a)(e,J);return Object(k.jsx)("input",Object(l.a)({ref:t,className:"global__basic-input-style"},a))},U=function(e){var t=e.data,a=e.handleDelete,d=e.boardList,r=e.handleClose,i=e.handleTaskUpdate,c=Object(n.useRef)(),o=Object(n.useState)(t),u=Object(s.a)(o,2),b=u[0],p=u[1],j=b.label,f=void 0===j?"":j,h=b.parentId,m=b.id,v=function(e){var t=Object(l.a)({},b);t[e.target.name]=e.target.value,p(t)};return Object(n.useEffect)((function(){c.current&&c.current.focus()}),[c]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:"Title:"}),Object(k.jsx)(M,{forwardedRef:c,onChange:v,name:"label",value:f})]}),Object(k.jsxs)("div",{className:"my-2",children:[Object(k.jsx)("div",{children:"Board:"}),Object(k.jsx)("select",{className:"global__basic-input-style",value:h,name:"parentId",onChange:v,children:d.map((function(e){var t=e||{},a=t.id,n=t.title,d=void 0===n?"":n;return Object(k.jsx)("option",{value:a,children:d},a)}))})]}),Object(k.jsxs)("div",{className:A.a.modalCtaWrapper,children:[Object(k.jsx)("div",{children:m?Object(k.jsx)("button",{onClick:function(){a(m),r()},className:A.a.deleteCta,children:"Delete"}):null}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:r,className:A.a.cta,children:"Cancel"}),Object(k.jsx)("button",{onClick:function(){i(b),r()},className:A.a.primaryCta,disabled:!f,children:"Save"})]})]})]})},w=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],d=t[1],r=Object(n.useRef)(),i=Object(n.useContext)(C),u=i.boardData,b=i.handleDrop,p=i.handleCreateBoard,j=i.handleTaskUpdate,f=i.handleDeleteTask,h=function(e,t,a){var n=e.dataTransfer.getData("dragEventData");if(t=t||e.target.id,n&&t){var d=(n=JSON.parse(n))||{},r=d.id,i=d.parentId;b(i,t,r,a)}},m=function(){d({})};return Object(k.jsxs)("div",{className:"board-layout",children:[Object(k.jsx)("div",{className:"action-area",children:Object(k.jsx)("button",{className:"primary-cta",onClick:function(){return p()},children:"+ Create Board"})}),Object(k.jsx)("div",{id:"boardlists",ref:r,className:"board-lists",children:u.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(k.jsx)(N,Object(l.a)(Object(l.a)({},e),{},{handleEditTask:d,handleDrop:function(t,a){return h(t,e.id,a)},handleDragOver:c,handleTaskDragStart:o,handleTaskUpdate:j}),t)}))}),Object(k.jsx)(B,{open:!!a.parentId,onClose:m,title:a.id?"Edit Task":"Create Task",children:Object(k.jsx)(U,{data:a,boardList:u,handleClose:m,handleDelete:f,handleTaskUpdate:j})})]})},P=function(){return Object(k.jsx)(x,{children:Object(k.jsx)(w,{})})},F=function(){return Object(k.jsx)(P,{})};var R=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(F,{})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(t){var a=t.getCLS,n=t.getFID,d=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),d(e),r(e),i(e)}))};i.a.render(Object(k.jsx)(d.a.StrictMode,{children:Object(k.jsx)(R,{})}),document.getElementById("root")),z()},5:function(e,t,a){e.exports={modalContentWrapper:"styles_modalContentWrapper__Tsq2B",modalTitle:"styles_modalTitle__zXVKQ",modalWrapper:"styles_modalWrapper__HJqaG",closeIcon:"styles_closeIcon__1z6VT"}},6:function(e,t,a){e.exports={contentWrapper:"ModalTaskContent_contentWrapper__2fAbo",modalCtaWrapper:"ModalTaskContent_modalCtaWrapper__mIUIm",cta:"ModalTaskContent_cta__1J9ng",deleteCta:"ModalTaskContent_deleteCta__-nxeK",primaryCta:"ModalTaskContent_primaryCta__235_j"}},9:function(e,t,a){e.exports={completedList:"TaskList_completedList__k-0dc",completedListOpen:"TaskList_completedListOpen__1DzYy",title:"TaskList_title__3Vxt7"}}},[[20,1,2]]]);
//# sourceMappingURL=main.77116e3c.chunk.js.map